{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Nix: Format (nix fmt)",
      "type": "shell",
      "command": "nix fmt",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "Nix: Statix Check",
      "type": "shell",
      "command": "nix run nixpkgs#statix -- check",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "Nix: Statix Fix",
      "type": "shell",
      "command": "nix run nixpkgs#statix -- fix -y",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "Nix: Flake Info",
      "type": "shell",
      "command": "nix flake show",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "NixOS: Switch (pick host)",
      "type": "shell",
      "command": "sudo nixos-rebuild switch --flake .#${input:host}",
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "NixOS: Test (pick host)",
      "type": "shell",
      "command": "sudo nixos-rebuild test --flake .#${input:host}",
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "NixOS: Dry-build (pick host)",
      "type": "shell",
      "command": "sudo nixos-rebuild dry-build --flake .#${input:host}",
      "problemMatcher": [],
      "group": "test"
    },
    {
      "label": "Nix: Flake Update",
      "type": "shell",
      "command": "nix flake update",
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "NixOS: List Generations",
      "type": "shell",
      "command": "sudo nix-env -p /nix/var/nix/profiles/system --list-generations",
      "problemMatcher": [],
      "group": "none"
    },
    {
      "label": "Nix: GC (delete older than 7d)",
      "type": "shell",
      "command": "sudo nix-collect-garbage --delete-older-than 7d",
      "problemMatcher": [],
      "group": "none"
    },
    {
      "label": "Nix: Flake Check",
      "type": "shell",
      "command": "nix flake check",
      "group": "test",
      "problemMatcher": []
    }
  ],
  "inputs": [
    {
      "id": "host",
      "type": "pickString",
      "description": "Select target host",
      "options": [
        "hp-dv9500-pavilion-nixos",
        "msi-ge75-raider-nixos"
      ],
      "default": "msi-ge75-raider-nixos"
    }
  ]
}
